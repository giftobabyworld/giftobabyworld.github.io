<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Display Item ID from Cache</title>
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <!-- Include the Firebase JavaScript SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.6.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.2/firebase-database.js"></script>
  </head>
  <body>
    <!-- -----------------------------------------Header--------------------------------------- -->
    <div class="header">
      <div class="header-container">
        <button onclick="openNav()" class="navbar-toggler" type="button">
          <i class="ri-menu-line sidebar-btn"></i>
        </button>
        <div class="logo">
          <a href="index.html"><img src="images/logo.jpg" alt="logo" /></a>
        </div>
        <div class="navbar">
          <a href="index.html">Home</a>
          <a href="#about">About</a>
          <div class="dropdown">
            <button class="dropbtn">
              Toys
              <i class="ri-arrow-down-s-line"></i>
            </button>
            <div class="dropdown-content">
              <a href="eid.html">toys under 999â‚¨</a>
              <a href="wedding.html">musical toys </a>
              <a href="formal.html">model cars </a>
              <a href="bags.html">action figures</a>
              <a href="bags.html">train and truck set </a>
              <a href="bags.html">sports toys</a>
              <a href="bags.html"> play dough & slimes</a>
              <a href="bags.html">stuff toys </a>
              <a href="bags.html">remote control toys</a>
              <a href="bags.html">toys gun</a>
              <a href="bags.html">outdoor play</a>
              <a href="bags.html">swimming gears</a>
              <a href="bags.html">girl toys</a>
              <a href="bags.html">boys toys </a>
              <a href="bags.html">game and puzzles </a>
              <a href="bags.html">baby slides </a>
              <a href="bags.html">jumping castle</a>
              <a href="bags.html">swings category</a>
              <a href="bags.html">tablesÂ &Â chair</a>
            </div>
          </div>
          <a href="contact.html">Contact Us</a>
        </div>
        <div class="addtocart" onclick="openSidebar()">
          <i class="ri-shopping-cart-2-fill"></i>
        </div>
      </div>
      <!-- open sidebar -->
      <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()"
          >&times;</a
        >
        <a href="#">Home</a>
        <a href="#">About</a>
        <a href="#">Eid Collection</a>
        <a href="#">Wedding Wear</a>
        <a href="#">Formal Wear</a>
        <a href="#">Mini Bags / Bottles</a>
        <a href="#">Contact Us</a>

        <!-- ------------------right sidebar------------------ -->
        <div class="sidebar" id="sidebar">
          <button class="right-close-btn" onclick="closeSidebar()">âœ•</button>
          <div class="right-sidebar-content">
            <h1>Your Cart</h1>
            <p>Your cart is empty ðŸ˜ž</p>
          </div>
        </div>
      </div>

      <!-- ------------------right sidebar------------------ -->
      <div class="sidebar" id="sidebar">
        <button class="right-close-btn" onclick="closeSidebar()">âœ•</button>
        <div class="right-sidebar-content">
          <h1>Your Cart</h1>
          <p>Your cart is empty ðŸ˜ž</p>
        </div>
      </div>
    </div>

    <!-- ---------------------------------------inner eid page-------------------------------------- -->

    <section class="packages" id="services">
      <div class="content">
        <h1>kids</h1>
      </div>
    </section>

    <!-- packages -->

    <div id="menu"></div>

    <div id="itemIdDisplay"></div>

    <!-- -----------------------------------------Footer------------------------------------------- -->
    <div class="footer">
      <div class="footer-left">
        <div class="logo">
          <img src="images/logo.jpg" alt="" />
          <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>
          <div class="footer-socials">
            <div class="footer-socials-wrapper">
              <div class="social1">
                <a
                  href=" https://www.facebook.com/profile.php?id=100068177918098
              "
                  ><i class="ri-facebook-fill"></i
                ></a>
              </div>
              <div class="social1">
                <a
                  href=" https://www.instagram.com/gifto_baby_world/
              "
                  ><i class="ri-instagram-fill"></i
                ></a>
              </div>
              <div class="social1">
                <a
                  href=" https://www.tiktok.com/@giftobaby1
              "
                  ><i class="ri-tiktok-fill"></i
                ></a>
              </div>
              <div class="social1">
                <a href=" https://youtube.com/@GiftoBabyworld"
                  ><i class="ri-youtube-fill"></i
                ></a>
              </div>
              <div class="social1">
                <a href="https://maps.app.goo.gl/uZp33UTQxxuiuuCn6"
                  ><i class="ri-map-pin-line"></i
                ></a>
              </div>
              <div class="social1">
                <a href="https://wa.me/+923355558359"
                  ><i class="ri-whatsapp-line"></i
                ></a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="contact-info">
        <div class="contact-heading">
          <h1 class="pink-shade">Contact Info</h1>
        </div>
        <div class="contact-wrapper-container">
          <div class="contact-wrapper">
            <i class="ri-phone-fill"></i>
            <p>03355558359</p>
          </div>
          <div class="contact-wrapper">
            <i class="ri-phone-fill"></i>
            <p>03345373743</p>
          </div>
          <div class="contact-wrapper">
            <i class="ri-mail-star-fill"></i>
            <p>hamzashakeelhaiderdurrani77@gmail.com</p>
          </div>
          <div class="contact-wrapper">
            <i class="ri-time-fill"></i>
            <p>24/7</p>
          </div>
        </div>
      </div>

      <div class="footer-right">
        <div class="newsletter">
          <div class="newsletter-content">
            <h1 class="pink-shade">Newsletter</h1>
            <p>Subscribe For latest updates</p>
            <form action="" id="newsletter">
              <input
                type="email"
                id="email"
                name=""
                placeholder="Drop your email"
                class="newsletter"
              />
              <input type="submit" value="subscribe" class="btn-1" />
            </form>
          </div>
        </div>
      </div>
    </div>

    <hr />
    <div class="copywrite">
      <div class="copywrite-content">
        <p>
          Copyright &copy; since 1985 Gift To Baby World. All Rights Reserved.
        </p>
      </div>
    </div>

    <!-- backend -->
    <script src="firebase.js"></script>
    <script>
      // Get a reference to the database
      var database = firebase.database();
      var menuRef = database.ref("products");

      // Retrieve itemCategory from localStorage
      var itemCategory = localStorage.getItem("itemCategory");
      console.log("Retrieved itemCategory from localStorage:", itemCategory);

      // Check if menu items are already loaded
      var menuItemsLoaded = false;

      menuRef.on("value", function (snapshot) {
        var menuData = snapshot.val();
        console.log("Retrieved menuData from Firebase:", menuData);

        // Display menu data on the web page
        var menuContainer = document.getElementById("menu");
        menuContainer.innerHTML = "";

        var foundItems = false;
        if (menuData.hasOwnProperty(itemCategory)) {
          var categoryItems = menuData[itemCategory];

          for (var key in categoryItems) {
            if (categoryItems.hasOwnProperty(key)) {
              var menuItem = categoryItems[key];
              foundItems = true;

              // Create menu item element
              var menuItemElement = document.createElement("div");
              var firstImageUrl = Array.isArray(menuItem.images)
                ? menuItem.images[0]
                : menuItem.images; // Get the first image URL if it's an array
              menuItemElement.innerHTML = `
                <div class="btn-container">
                    <button class="btn-package" onclick="redirectToUrl('${menuItem.name}')">
                        <div class="packagesBox">
                            <div class="image">
                                <img src="${firstImageUrl}" alt="${menuItem.name}" class="menu-image">
                            </div>
                            <div class="preview"></div>
                            <div class="content">
                                <div class="package-details">
                                    <div class="package-name">
                                        <h2 class="multiline-ellipsis-2">${menuItem.name}</h2>
                                    </div>
                                    <div class="package-price">
                                        <h4 class="multiline-ellipsis-3">Rs ${menuItem.button1Price}</h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </button>
                </div>
                `;
              menuContainer.appendChild(menuItemElement);
            }
          }
        }

        if (!foundItems) {
          console.log("No items found for the category:", itemCategory);
        }
      });

      function redirectToUrl(itemName) {
        // Save itemName to localStorage
        localStorage.setItem("itemName", itemName);

        var url = "/product.html";
        window.location.href = url;
      }
    </script>

    <script src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-element-bundle.min.js"></script>
  </body>
</html>
