<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Our Products</title>
    <!-- favicon -->
    <link
    rel="shortcut icon"
    href="images/logo bg-removed.png"
    type="image/svg+xml"
  />
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="catogry.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <style>/* Add to Cart Button */
      .btn-container .package-name h2,
    .btn-container .package-price h4 {
      font-family: inherit; /* Inherit the font family from parent */
       /* Make the text bold */
    }
      .add-to-cart-button {
        background-color: #d28a7c; /* Background color matching the theme */
        color: #fff; /* Text color */
        border: none; /* Remove default border */
        border-radius: 5px; /* Rounded corners */
        padding: 10px 20px; /* Padding for the button */
        font-size: 16px; /* Font size */
        cursor: pointer; /* Cursor pointer on hover */
        transition: background-color 0.3s, transform 0.3s; /* Smooth transition */
      }
      
      .add-to-cart-button:hover {
        background-color: #bb796e; /* Slightly darker color on hover */
        transform: scale(1.05); /* Slight scale up on hover */
      }
      
      .add-to-cart-button:active {
        background-color: #a66a5f; /* Even darker color on click */
        transform: scale(0.95); /* Slight scale down on click */
      }
      </style>
    <!-- Include the Firebase JavaScript SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.6.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.2/firebase-database.js"></script>
  </head>
  <body>
    <!-- -----------------------------------------Header--------------------------------------- -->
    <div class="header">
      <div class="header-container">
        <button onclick="openNav()" class="navbar-toggler" type="button">
          <i class="ri-menu-line sidebar-btn"></i>
        </button>
        <div class="logo">
          <a href="index.html"><img src="images/logo.jpg" alt="logo" /></a>
        </div>
        <div class="navbar">
          <a href="index.html">Home</a>
          <div class="dropdown">
            <button class="dropbtn">
              Toys
              <i class="ri-arrow-down-s-line"></i>
            </button>
            <div class="dropdown-content">
              <div class="dropdown-content-container">
                <div class="dropdown-content-wrapper">
                  <a href="#" onclick="redirectToCategory(this)">toys under 999‚Ç®</a>
                  <a href="#" onclick="redirectToCategory(this)">musical toys </a>
                  <a href="#" onclick="redirectToCategory(this)">model cars </a>
                  <a href="#" onclick="redirectToCategory(this)">action figures</a>
                  <a href="#" onclick="redirectToCategory(this)">train and truck set </a>
                  <a href="#" onclick="redirectToCategory(this)">sports toys</a>
                  <a href="#" onclick="redirectToCategory(this)"> play dough & slimes</a>
                  <a href="#" onclick="redirectToCategory(this)">stuff toys </a>
                  <a href="#" onclick="redirectToCategory(this)">remote control toys</a>
                </div>
                <div class="dropdown-content-divider">
                  <a href="#" onclick="redirectToCategory(this)">toys gun</a>
                  <a href="#" onclick="redirectToCategory(this)">outdoor play</a>
                  <a href="#" onclick="redirectToCategory(this)"">swimming gears</a>
                  <a href="#" onclick="redirectToCategory(this)">girl toys</a>
                  <a href="#" onclick="redirectToCategory(this)">boys toys </a>
                  <a href="#" onclick="redirectToCategory(this)">game and puzzles </a>
                  <a href="#" onclick="redirectToCategory(this)">baby slides </a>
                  <a href="#" onclick="redirectToCategory(this)">jumping castle</a>
                  <a href="#" onclick="redirectToCategory(this)">swings category</a>
                  <a href="#" onclick="redirectToCategory(this)">tables¬†&¬†chair</a>
                </div>
              </div>
            </div>
          </div>

          <div class="dropdown">
            <button class="dropbtn">
              baby accessories
              <i class="ri-arrow-down-s-line"></i>
            </button>
            <div class="dropdown-content">
              <div class="dropdown-content-container">
                <div class="dropdown-content-wrapper">
                  <a href="#" onclick="redirectToCategory(this)">baby care under 999 </a>
                  <a href="#" onclick="redirectToCategory(this)">carry nest & carry crib </a>
                  <a href="#" onclick="redirectToCategory(this)">sleeping sets</a>
                  <a href="#" onclick="redirectToCategory(this)">new born suit boys</a>
                  <a href="#" onclick="redirectToCategory(this)">new born suit girls </a>
                  <a href="#" onclick="redirectToCategory(this)">baby bags </a>
                  <a href="#" onclick="redirectToCategory(this)">bath towels</a>
                  <a href="#" onclick="redirectToCategory(this)">face towels </a>
                  <a href="#" onclick="redirectToCategory(this)">changing sheet </a>
                  <a href="#" onclick="redirectToCategory(this)">rattles </a>
                  <a href="#" onclick="redirectToCategory(this)">teether & pacifier </a>
                </div>
                <div class="dropdown-content-divider">
                  <a href="#" onclick="redirectToCategory(this)">baby vest & Bibs</a>
                  <a href="#" onclick="redirectToCategory(this)">wrapping sheet & swaddle sheet </a>
                  <a href="#" onclick="redirectToCategory(this)">mittens & caps</a>
                  <a href="#" onclick="redirectToCategory(this)">diapers & panties </a>
                  <a href="#" onclick="redirectToCategory(this)">baby socks & booties</a>
                  <a href="#" onclick="redirectToCategory(this)">baby care accessories </a>
                  <a href="#" onclick="redirectToCategory(this)">toileteries</a>
                  <a href="#" onclick="redirectToCategory(this)">gift sets</a>
                  <a href="#" onclick="redirectToCategory(this)">feeder cover & powder puff </a>
                  <a href="#" onclick="redirectToCategory(this)"> milk container </a>
                  <a href="#" onclick="redirectToCategory(this)">feeding accessories</a>
                  <a href="#" onclick="redirectToCategory(this)">blankets</a>
                </div>
              </div>
            </div>
          </div>

          <div class="dropdown">
            <button class="dropbtn">
              kids
              <i class="ri-arrow-down-s-line"></i>
            </button>
            <div class="dropdown-content">
              <div class="dropdown-content-container">
                <div class="dropdown-content-wrapper">
                  <a href="#" onclick="redirectToCategory(this)">kids electric car </a>
                  <a href="#" onclick="redirectToCategory(this)">kids electric jeep </a>
                  <a href="#" onclick="redirectToCategory(this)">kids electric scooters </a>
                  <a href="#" onclick="redirectToCategory(this)"> tricycles </a>
                  <a href="#" onclick="redirectToCategory(this)">scooties</a>
                  <a href="#" onclick="redirectToCategory(this)"> tolo cars </a>
                  <a href="#" onclick="redirectToCategory(this)">ride¬†on¬†horse</a>
                </div>
              </div>
            </div>
          </div>

          <div class="dropdown">
            <button class="dropbtn">
              baby gear
              <i class="ri-arrow-down-s-line"></i>
            </button>
            <div class="dropdown-content">
              <div class="dropdown-content-container">
                <div class="dropdown-content-wrapper">
                  <a href="#" onclick="redirectToCategory(this)"> electric swing </a>
                  <a href="#" onclick="redirectToCategory(this)">stroller</a>
                  <a href="#" onclick="redirectToCategory(this)">carry coat & baby carrier</a>
                  <a href="#" onclick="redirectToCategory(this)">baby walker & activity walker </a>
                  <a href="#" onclick="redirectToCategory(this)">play mats</a>
                  <a href="#" onclick="redirectToCategory(this)">baby sofa</a>
                  <a href="#" onclick="redirectToCategory(this)">baby coat </a>
                </div>
                <div class="dropdown-content-divider">
                  <a href="#" onclick="redirectToCategory(this)">baby accessories box</a>
                  <a href="#" onclick="redirectToCategory(this)">bathers & baby toilets seat </a>
                  <a href="#" onclick="redirectToCategory(this)">kids drawers</a>
                  <a href="#" onclick="redirectToCategory(this)">high chairs¬†&¬†booster¬†seat</a>
                </div>
              </div>
            </div>
          </div>

          <a href="contact.html">Contact Us</a>
        </div>
        <div class="addtocart" onclick="openSidebar()">
          <i class="ri-shopping-cart-2-fill"></i>
        </div>
      </div>
      <!-- open sidebar -->
      <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()"
          >&times;</a
        >
        <a href="#">Home</a>
        <a href="contact.html">Contact Us</a>

        <div class="dropdown2">
          <div class="select">
            <span class="selected">Toys</span>
            <div class="caret"></div>
          </div>
          <ul class="menu">
            <li>toys under 999‚Ç®</li>
            <li>musical toys</li>
            <li>model cars</li>
            <li>action figures</li>
            <li>train and truck set</li>
            <li>sports toys</li>
            <li>play dough & slimes</li>
            <li>stuff toys</li>
            <li>remote control toys</li>
            <li>toys gun</li>
            <li>outdoor play</li>
            <li>swimming gears</li>
            <li>girl toys</li>
            <li>boys toys</li>
            <li>game and puzzles</li>
            <li>baby slides</li>
            <li>jumping castle</li>
            <li>swings category</li>
            <li>tables¬†&¬†chair</li>
            <li class="active">toys</li>
          </ul>
        </div>

        <div class="dropdown2">
          <div class="select">
            <span class="selected">kids vehicles</span>
            <div class="caret"></div>
          </div>
          <ul class="menu">
            <li>kids electric car</li>
            <li>kids electric jeep</li>
            <li>kids electric scooters</li>
            <li>tricycles</li>
            <li>scooties</li>
            <li>tolo cars</li>
            <li>ride¬†on¬†horse</li>
            <li class="active">Kids Vechiels</li>
          </ul>
        </div>

        <div class="dropdown2">
          <div class="select">
            <span class="selected">born baby accessories</span>
            <div class="caret"></div>
          </div>
          <ul class="menu">
            <li>baby care under 999</li>
            <li>carry nest & carry crib</li>
            <li>new born suit boys</li>
            <li>new born suit girls</li>
            <li>baby bags</li>
            <li>bath towels</li>
            <li>face towels</li>
            <li>changing sheet</li>
            <li>baby vest & Bibs</li>
            <li>wrapping sheet & swaddle sheet</li>
            <li>mittens & caps</li>
            <li>diapers & panties</li>
            <li>baby socks & booties</li>
            <li>baby care accessories</li>
            <li>toileteries</li>
            <li>gift sets</li>
            <li>feeder cover & powder puff</li>
            <li>milk container</li>
            <li>rattles</li>
            <li>teether & pacifier</li>
            <li>feeding accessories¬†</li>
            <li>blankets</li>
            <li class="active">born baby accessories</li>
          </ul>
        </div>

        <div class="dropdown2">
          <div class="select">
            <span class="selected">baby gear</span>
            <div class="caret"></div>
          </div>
          <ul class="menu">
            <li>electric swing</li>
            <li>stroller</li>
            <li>carry coat & baby carrier</li>
            <li>baby walker & activity walker</li>
            <li>play mats</li>
            <li>baby sofa</li>
            <li>baby coat</li>
            <li>baby accessories box</li>
            <li>bathers & baby toilets seat</li>
            <li>kids drawers</li>
            <li>high chairs¬†&¬†booster¬†seat</li>
            <li class="active">baby gear</li>
          </ul>
        </div>

        <div class="left-sidebar-content">
          <div class="sidebar-content">
            <h1>Helpline üìû</h1>
            <a href="+923345373743">+92-334-5373743</a>
          </div>
          <div class="left-sidebar-socials-wrapper">
            <div class="leftbar-socials">
              <a
                  href="https://www.tiktok.com/@giftobaby1"
                  ><i class="ri-tiktok-fill"></i
                ></a>
            </div>
            <div class="leftbar-socials">
              <a
                  href=" https://www.facebook.com/profile.php?id=100068177918098"
                  ><i class="ri-facebook-fill"></i
                ></a>
            </div>
            <div class="leftbar-socials">
              <a
                  href=" https://www.instagram.com/gifto_baby_world/"
                  ><i class="ri-instagram-fill"></i
                ></a>
            </div>
            <div class="leftbar-socials">
              <a href=" https://youtube.com/@GiftoBabyworld"
                  ><i class="ri-youtube-fill"></i
                ></a>
            </div>
          </div>
        </div>

        <!-- ------------------right sidebar------------------ -->
        <div class="sidebar" id="sidebar">
          <button class="right-close-btn" onclick="closeSidebar()">‚úï</button>
          <div class="right-sidebar-content">
            <h1>Your Cart</h1>
            <section class="cart">
              <div class="content">
                <h1>Your Cart</h1>
              </div>
              <div id="cart-items"></div>
              <a href="checkout.html" class="checkout-container">
                <div class="container">
                  <div class="left-side">
                    <div class="card">
                      <div class="card-line"></div>
                      <div class="buttons"></div>
                    </div>
                    <div class="post">
                      <div class="post-line"></div>
                      <div class="screen">
                        <div class="dollar">RS</div>
                      </div>
                      <div class="numbers"></div>
                      <div class="numbers-line2"></div>
                    </div>
                  </div>
                  <div class="right-side">
                    <div class="new">Checkout</div>
                  </div>
                </div>
              </a>
            </section>
          </div>
        </div>
      </div>

      <!-- ------------------right sidebar------------------ -->
      <div class="sidebar" id="sidebar">
        <button class="right-close-btn" onclick="closeSidebar()">‚úï</button>
        <div class="right-sidebar-content">
          <h1>Your Cart</h1>
          <section class="cart">
            <div class="content">
              <h1>Your Cart</h1>
            </div>
            <div id="cart-items"></div>
            <a href="checkout.html" class="checkout-container">
              <div class="container">
                <div class="left-side">
                  <div class="card">
                    <div class="card-line"></div>
                    <div class="buttons"></div>
                  </div>
                  <div class="post">
                    <div class="post-line"></div>
                    <div class="screen">
                      <div class="dollar">RS</div>
                    </div>
                    <div class="numbers"></div>
                    <div class="numbers-line2"></div>
                  </div>
                </div>
                <div class="right-side">
                  <div class="new">Checkout</div>
                </div>
              </div>
            </a>
          </section>
        </div>
      </div>
    </div>

    <!-- ---------------------------------------inner eid page-------------------------------------- -->

    <section class="packages" id="services">
      <div class="content">
        <h1>Hello</h1>
      </div>
    </section>

    <!-- packages -->

    <div class="catogry-wrapper">
      <div id="menu"></div>
    </div>

    <div id="itemIdDisplay"></div>
    
     <!-- -----------------------------------------Footer------------------------------------------- -->
  <div class="footer-wrapper">  
    <div class="footer">
      <div class="footer-left">
        <div class="logo">
          <img src="images/logo bg-removed.png" alt="" />
          <p>Pakistan's No.1 Toys Shop.</p>
          <div class="footer-socials">
            <div class="footer-socials-wrapper">
              <div class="social1">
                <a
                  href=" https://www.facebook.com/profile.php?id=100068177918098
                "
                  ><i class="ri-facebook-fill"></i
                ></a>
              </div>
              <div class="social1">
                <a
                  href=" https://www.instagram.com/gifto_baby_world/
                "
                  ><i class="ri-instagram-fill"></i
                ></a>
              </div>
              <div class="social1">
                <a
                  href=" https://www.tiktok.com/@giftobaby1
                "
                  ><i class="ri-tiktok-fill"></i
                ></a>
              </div>
              <div class="social1">
                <a href=" https://youtube.com/@GiftoBabyworld"
                  ><i class="ri-youtube-fill"></i
                ></a>
              </div>
              <div class="social1">
                <a href="https://maps.app.goo.gl/uZp33UTQxxuiuuCn6"
                  ><i class="ri-map-pin-line"></i
                ></a>
              </div>
              <div class="social1">
                <a href="https://wa.me/+923355558359"
                  ><i class="ri-whatsapp-line"></i
                ></a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="contact-info">
        <div class="contact-heading">
          <h1>Contact Info</h1>
        </div>
        <div class="contact-wrapper-container">
          <div class="contact-wrapper">
            <i class="ri-phone-fill"></i>
            <p>03355558359</p>
          </div>
          <div class="contact-wrapper">
            <i class="ri-phone-fill"></i>
            <p>03345373743</p>
          </div>
          <div class="contact-wrapper">
            <i class="ri-mail-star-fill"></i>
            <p>giftobabyworld@gmail.com</p>
          </div>
          <div class="contact-wrapper">
            <i class="ri-time-fill"></i>
            <p>24/7</p>
          </div>
        </div>
      </div>

      <div class="footer-right">
        <div class="newsletter">
          <div class="newsletter-content">
            <h1>About Us</h1>
            <p>At Giftobaby World, we are dedicated to bringing joy and wonder to children of all ages. Our carefully curated selection of toys and children's products is designed to inspire creativity, learning, and endless hours of fun. Founded with a passion for quality and a commitment to excellence, Giftobaby World is your trusted partner in making childhood magical. </p>
          </div>
        </div>
      </div>
    </div>
  

  


    <hr />
    <div class="copywrite">
      <div class="copywrite-content">
        <p>
          Copyright &copy; since 1985 Gift To Baby World. All Rights Reserved.
        </p>
      </div>
    </div>

    <!-- backend -->
    <script src="firebase.js"></script>
    <script>
  

var database = firebase.database();
var menuRef = database.ref("products");

// Retrieve itemCategory from localStorage
var itemCategory = localStorage.getItem("itemCategory");
console.log("Retrieved itemCategory from localStorage:", itemCategory);

// Check if menu items are already loaded
var menuItemsLoaded = false;

menuRef.on("value", function (snapshot) {
  var menuData = snapshot.val();
  console.log("Retrieved menuData from Firebase:", menuData);

  // Display menu data on the web page
  var menuContainer = document.getElementById("menu");
  menuContainer.innerHTML = "";

  var foundItems = false;
  if (menuData.hasOwnProperty(itemCategory)) {
    var categoryItems = menuData[itemCategory];

    for (var key in categoryItems) {
      if (categoryItems.hasOwnProperty(key)) {
    var menuItem = categoryItems[key];
    foundItems = true;

    // Create menu item element
    var menuItemElement = document.createElement("div");
    var firstImageUrl = Array.isArray(menuItem.images)
      ? menuItem.images[0]
      : menuItem.images; // Get the first image URL if it's an array
    menuItemElement.innerHTML = `
<div class="btn-container">
    <button class="btn-package" onclick="redirectToUrl('${menuItem.name}')">
        <div class="packagesBoxs">
            <div class="catorgy-imgs">
                <img src="${firstImageUrl}" alt="${menuItem.name}" class="menu-image">
            </div>
            <div class="Pcontent">
                <div class="package-details">
                    <div class="package-name">
                        <h2 class="multiline-ellipsis-2">${menuItem.name}</h2>
                    </div>
                    <div class="package-price">
                        <h4 class="multiline-ellipsis-3">Rs ${menuItem.button1Price}</h4>
                    </div>
                </div>
            </div>
        </div>
    </button>
    <div class="button-category-wrapper">
        <button class="add-to-cart-button" onclick="addToCart('${menuItem.name}', '${firstImageUrl}', '${menuItem.button1Price}')">Add to Cart</button>
    </div>
</div>


    `;
    menuContainer.appendChild(menuItemElement);
  }
}
  }

  if (!foundItems) {
    console.log("No items found for the category:", itemCategory);
  }
});
function addToCart(name, image, price) {
  // Retrieve cart items from localStorage
  var cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];

  // Check if the item already exists in the cart
  var existingItem = cartItems.find(item => item.name === name);

  if (existingItem) {
    // Increase the quantity if it already exists
    existingItem.quantity++;
  } else {
    // Add new item to the cart
    cartItems.push({ name, image, price, quantity: 1 });
  }

  // Save cart items back to localStorage
  localStorage.setItem("cartItems", JSON.stringify(cartItems));

  // Optionally, you can trigger a cart display update or provide feedback to the user here
  alert("Item added to cart!");
  location.reload();
}
function redirectToUrl(itemName) {
  var url = "product.html?itemName=" + encodeURIComponent(itemName);
  window.location.href = url;
}

document.addEventListener("DOMContentLoaded", function () {
      function displayCart() {
        // Retrieve cart items from localStorage
        var cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];
        var deliveryCharge = 99; // Fixed delivery charge
    
        // Display cart items on the page
        var cartItemsContainer = document.getElementById("cart-items");
        var content = ""; // Variable to build the HTML content
    
        if (cartItems.length === 0) {
          content = `
            <p class="empty-msg">Your cart is empty üòû 
            <a class="empty-shopping" href="index.html">Continue Shopping</a></p>
          `;
        } else {
          var totalAmount = 0;
    
          cartItems.forEach(function (item) {
            content += `
              <div class="cart-container">
                <div class="cart-container-2">
                  <div class="cart-img">
                    <img src="${item.image}" alt="${item.name}" style="width: 30rem;">
                  </div>
                  <div class="cart-details">
                    <p>Name: ${item.name}</p>
                    <p>Price: Rs ${item.price}</p><br><br>
                    <div class="quantity-control">
                      <button class="decrease-quantity" data-name="${item.name}" data-price="${item.price}">-</button>
                      <span class="quantity">${item.quantity}</span>
                      <button class="increase-quantity" data-name="${item.name}" data-price="${item.price}">+</button>
                    </div>
                    <p>Size: ${item.buttonName}<br><br></p><br>
                  </div>
                </div>
                <button class="remove-item-button noselect" data-name="${item.name}" data-price="${item.price}">
                  <span class="text">Remove</span>
                  <!-- Optionally, you can add an icon here if you prefer -->
                  <!-- <i class="icon">üóëÔ∏è</i> -->
                </button>
              </div>
            `;
    
            // Calculate total amount
            totalAmount += parseInt(item.price) * parseInt(item.quantity);
          });
    
          // Calculate final total with delivery charge
          var totalAmountWithDelivery = totalAmount + deliveryCharge;
    
          // Display only the final total
          content += `
            <h3 class="total-amount">Total: Rs ${totalAmountWithDelivery}</h3>
          `;
        }
    
        // Set the built content to the cartItemsContainer
        cartItemsContainer.innerHTML = content;
    
        // Add event listeners to Remove buttons
        var removeButtons = document.querySelectorAll(".remove-item-button");
        removeButtons.forEach(function (button) {
          button.addEventListener("click", function () {
            var itemName = button.getAttribute("data-name");
            var itemPrice = button.getAttribute("data-price");
    
            // Retrieve cart items from localStorage
            var cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];
    
            // Find index of item to remove
            var index = cartItems.findIndex(function (item) {
              return item.name === itemName && item.price === itemPrice;
            });
    
            // Decrease quantity by 1 or remove item if quantity is 1
            if (index !== -1) {
              if (cartItems[index].quantity > 1) {
                cartItems[index].quantity--;
              } else {
                cartItems.splice(index, 1);
              }
              // Update cart items in localStorage
              localStorage.setItem("cartItems", JSON.stringify(cartItems));
              // Trigger live reload
              displayCart();
            }
          });
        });
    
        // Add event listeners to Quantity control buttons
        var increaseButtons = document.querySelectorAll(".increase-quantity");
        var decreaseButtons = document.querySelectorAll(".decrease-quantity");
    
        increaseButtons.forEach(function (button) {
          button.addEventListener("click", function () {
            var itemName = button.getAttribute("data-name");
            var itemPrice = button.getAttribute("data-price");
    
            // Retrieve cart items from localStorage
            var cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];
    
            // Find index of item to update
            var index = cartItems.findIndex(function (item) {
              return item.name === itemName && item.price === itemPrice;
            });
    
            if (index !== -1) {
              cartItems[index].quantity++;
              // Update cart items in localStorage
              localStorage.setItem("cartItems", JSON.stringify(cartItems));
              // Trigger live reload
              displayCart();
            }
          });
        });
    
        decreaseButtons.forEach(function (button) {
          button.addEventListener("click", function () {
            var itemName = button.getAttribute("data-name");
            var itemPrice = button.getAttribute("data-price");
    
            // Retrieve cart items from localStorage
            var cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];
    
            // Find index of item to update
            var index = cartItems.findIndex(function (item) {
              return item.name === itemName && item.price === itemPrice;
            });
    
            if (index !== -1) {
              if (cartItems[index].quantity > 1) {
                cartItems[index].quantity--;
              } else {
                cartItems.splice(index, 1);
              }
              // Update cart items in localStorage
              localStorage.setItem("cartItems", JSON.stringify(cartItems));
              // Trigger live reload
              displayCart();
            }
          });
        });
      }
    
      // Display cart initially
      displayCart();
    
      // Listen for changes in localStorage (storage event)
      window.addEventListener("storage", function (e) {
        // Check if the event is related to cartItems
        if (e.key === "cartItems") {
          // Trigger live reload
          displayCart();
        }
      });
    });
    

function redirectToCategory(element) {
  // Get the category name from the clicked link's text content
  var categoryName = element.textContent.trim();
  // Save category in localStorage or sessionStorage
  localStorage.setItem('itemCategory', categoryName);
  // Redirect to category.html
  window.location.href = 'catogry.html';
}
document.addEventListener('DOMContentLoaded', function() {
  var dropdowns = document.querySelectorAll('.dropdown2 .menu li');
  dropdowns.forEach(function(item) {
    item.addEventListener('click', function() {
      redirectToCategory(this);
    });
  });
});
// --------------------------------------------------Sidebar------------------------------------------
function openNav() {
  document.getElementById("mySidenav").style.width = "250px";
  document.getElementById("main").style.marginLeft = "250px";
}

function closeNav() {
  document.getElementById("mySidenav").style.width = "0";
  document.getElementById("main").style.marginLeft = "0";
}

// small banner at top
function closeBanner() {
  var banner = document.getElementById("banner");
  banner.style.display = "none";
}

// -----------right sidebar---------------------

function openSidebar() {
  document.getElementById("sidebar").classList.add("open");
}

function closeSidebar() {
  document.getElementById("sidebar").classList.remove("open");
}
var database = firebase.database();
var menuRef = database.ref("products");

// Fetch all products and store them in an array
var allProducts = [];

menuRef.on("value", function (snapshot) {
  var menuData = snapshot.val();

  // Flatten the nested objects into a single array of products
  for (var category in menuData) {
    if (menuData.hasOwnProperty(category)) {
      var categoryItems = menuData[category];
      for (var key in categoryItems) {
        if (categoryItems.hasOwnProperty(key)) {
          // Add category information to each product
          categoryItems[key].category = category;
          allProducts.push(categoryItems[key]);
        }
      }
    }
  }
});

document.getElementById("searchBar").addEventListener("input", function (event) {
  var query = event.target.value.toLowerCase();
  var suggestionsContainer = document.getElementById("suggestions");

  suggestionsContainer.innerHTML = "";

  if (query.length > 0) {
    var suggestions = allProducts.filter(function (product) {
      return product.name.toLowerCase().includes(query);
    });

    suggestions.forEach(function (product) {
      var suggestionElement = document.createElement("p");
      suggestionElement.textContent = product.name;
      suggestionElement.addEventListener("click", function () {
        redirectToProductPage(product);
      });
      suggestionsContainer.appendChild(suggestionElement);
    });
  }
});

function redirectToProductPage(product) {
  // Save itemCategory and itemName to localStorage
  localStorage.setItem("itemCategory", product.category);
  localStorage.setItem("itemName", product.name);

  // Redirect to product.html
  window.location.href = "product.html";
}

    </script>


    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-element-bundle.min.js"></script>

    <script src="script.js"></script>
  </body>
</html>
