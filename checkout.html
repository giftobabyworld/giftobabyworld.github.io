<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Checkout</title>
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="checkout.css" />
  </head>
  <body>
    <!-- -----------------------------------------Header--------------------------------------- -->
    <div class="header">
      <div class="header-container">
        <button onclick="openNav()" class="navbar-toggler" type="button">
          <i class="ri-menu-line sidebar-btn"></i>
        </button>
        <div class="logo">
          <a href="index.html"><img src="images/logo.jpg" alt="logo" /></a>
        </div>
        <div class="navbar">
          <a href="index.html">Home</a>
          <div class="dropdown">
            <button class="dropbtn">
              Toys
              <i class="ri-arrow-down-s-line"></i>
            </button>
            <div class="dropdown-content">
              <div class="dropdown-content-container">
                <div class="dropdown-content-wrapper">
                  <a href="#" onclick="redirectToCategory(this)">toys under 999₨</a>
                  <a href="#" onclick="redirectToCategory(this)">musical toys </a>
                  <a href="#" onclick="redirectToCategory(this)">model cars </a>
                  <a href="#" onclick="redirectToCategory(this)">action figures</a>
                  <a href="#" onclick="redirectToCategory(this)">train and truck set </a>
                  <a href="#" onclick="redirectToCategory(this)">sports toys</a>
                  <a href="#" onclick="redirectToCategory(this)"> play dough & slimes</a>
                  <a href="#" onclick="redirectToCategory(this)">stuff toys </a>
                  <a href="#" onclick="redirectToCategory(this)">remote control toys</a>
                </div>
                <div class="dropdown-content-divider">
                  <a href="#" onclick="redirectToCategory(this)">toys gun</a>
                  <a href="#" onclick="redirectToCategory(this)">outdoor play</a>
                  <a href="#" onclick="redirectToCategory(this)"">swimming gears</a>
                  <a href="#" onclick="redirectToCategory(this)">girl toys</a>
                  <a href="#" onclick="redirectToCategory(this)">boys toys </a>
                  <a href="#" onclick="redirectToCategory(this)">game and puzzles </a>
                  <a href="#" onclick="redirectToCategory(this)">baby slides </a>
                  <a href="#" onclick="redirectToCategory(this)">jumping castle</a>
                  <a href="#" onclick="redirectToCategory(this)">swings category</a>
                  <a href="#" onclick="redirectToCategory(this)">tables & chair</a>
                </div>
              </div>
            </div>
          </div>

          <div class="dropdown">
            <button class="dropbtn">
              baby accessories
              <i class="ri-arrow-down-s-line"></i>
            </button>
            <div class="dropdown-content">
              <div class="dropdown-content-container">
                <div class="dropdown-content-wrapper">
                  <a href="#" onclick="redirectToCategory(this)">baby care under 999 </a>
                  <a href="#" onclick="redirectToCategory(this)">carry nest & carry crib </a>
                  <a href="#" onclick="redirectToCategory(this)">sleeping sets</a>
                  <a href="#" onclick="redirectToCategory(this)">new born suit boys</a>
                  <a href="#" onclick="redirectToCategory(this)">new born suit girls </a>
                  <a href="#" onclick="redirectToCategory(this)">baby bags </a>
                  <a href="#" onclick="redirectToCategory(this)">bath towels</a>
                  <a href="#" onclick="redirectToCategory(this)">face towels </a>
                  <a href="#" onclick="redirectToCategory(this)">changing sheet </a>
                  <a href="#" onclick="redirectToCategory(this)">rattles </a>
                  <a href="#" onclick="redirectToCategory(this)">teether & pacifier </a>
                </div>
                <div class="dropdown-content-divider">
                  <a href="#" onclick="redirectToCategory(this)">baby vest & Bibs</a>
                  <a href="#" onclick="redirectToCategory(this)">wrapping sheet & swaddle sheet </a>
                  <a href="#" onclick="redirectToCategory(this)">mittens & caps</a>
                  <a href="#" onclick="redirectToCategory(this)">diapers & panties </a>
                  <a href="#" onclick="redirectToCategory(this)">baby socks & booties</a>
                  <a href="#" onclick="redirectToCategory(this)">baby care accessories </a>
                  <a href="#" onclick="redirectToCategory(this)">toileteries</a>
                  <a href="#" onclick="redirectToCategory(this)">gift sets</a>
                  <a href="#" onclick="redirectToCategory(this)">feeder cover & powder puff </a>
                  <a href="#" onclick="redirectToCategory(this)"> milk container </a>
                  <a href="#" onclick="redirectToCategory(this)">feeding accessories</a>
                  <a href="#" onclick="redirectToCategory(this)">blankets</a>
                </div>
              </div>
            </div>
          </div>

          <div class="dropdown">
            <button class="dropbtn">
              kids
              <i class="ri-arrow-down-s-line"></i>
            </button>
            <div class="dropdown-content">
              <div class="dropdown-content-container">
                <div class="dropdown-content-wrapper">
                  <a href="#" onclick="redirectToCategory(this)">kids electric car </a>
                  <a href="#" onclick="redirectToCategory(this)">kids electric jeep </a>
                  <a href="#" onclick="redirectToCategory(this)">kids electric scooters </a>
                  <a href="#" onclick="redirectToCategory(this)"> tricycles </a>
                  <a href="#" onclick="redirectToCategory(this)">scooties</a>
                  <a href="#" onclick="redirectToCategory(this)"> tolo cars </a>
                  <a href="#" onclick="redirectToCategory(this)">ride on horse</a>
                </div>
              </div>
            </div>
          </div>

          <div class="dropdown">
            <button class="dropbtn">
              baby gear
              <i class="ri-arrow-down-s-line"></i>
            </button>
            <div class="dropdown-content">
              <div class="dropdown-content-container">
                <div class="dropdown-content-wrapper">
                  <a href="#" onclick="redirectToCategory(this)"> electric swing </a>
                  <a href="#" onclick="redirectToCategory(this)">stroller</a>
                  <a href="#" onclick="redirectToCategory(this)">carry coat & baby carrier</a>
                  <a href="#" onclick="redirectToCategory(this)">baby walker & activity walker </a>
                  <a href="#" onclick="redirectToCategory(this)">play mats</a>
                  <a href="#" onclick="redirectToCategory(this)">baby sofa</a>
                  <a href="#" onclick="redirectToCategory(this)">baby coat </a>
                </div>
                <div class="dropdown-content-divider">
                  <a href="#" onclick="redirectToCategory(this)">baby accessories box</a>
                  <a href="#" onclick="redirectToCategory(this)">bathers & baby toilets seat </a>
                  <a href="#" onclick="redirectToCategory(this)">kids drawers</a>
                  <a href="#" onclick="redirectToCategory(this)"high chairs & booster seat</a>
                </div>
              </div>
            </div>
          </div>

          <a href="contact.html">Contact Us</a>
        </div>
        <div class="addtocart" onclick="openSidebar()">
          <i class="ri-shopping-cart-2-fill"></i>
        </div>
      </div>
      <!-- open sidebar -->
      <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()"
          >&times;</a
        >
        <a href="#">Home</a>
        <a href="contact.html">Contact Us</a>

        <div class="dropdown2">
          <div class="select">
            <span class="selected">Toys</span>
            <div class="caret"></div>
          </div>
          <ul class="menu">
            <li>toys under 999₨</li>
            <li>musical toys</li>
            <li>model cars</li>
            <li>action figures</li>
            <li>train and truck set</li>
            <li>sports toys</li>
            <li>play dough & slimes</li>
            <li>stuff toys</li>
            <li>remote control toys</li>
            <li>toys gun</li>
            <li>outdoor play</li>
            <li>swimming gears</li>
            <li>girl toys</li>
            <li>boys toys</li>
            <li>game and puzzles</li>
            <li>baby slides</li>
            <li>jumping castle</li>
            <li>swings category</li>
            <li>tables & chair</li>
            <li class="active">toys</li>
          </ul>
        </div>

        <div class="dropdown2">
          <div class="select">
            <span class="selected">kids vehicles</span>
            <div class="caret"></div>
          </div>
          <ul class="menu">
            <li>kids electric car</li>
            <li>kids electric jeep</li>
            <li>kids electric scooters</li>
            <li>tricycles</li>
            <li>scooties</li>
            <li>tolo cars</li>
            <li>ride on horse</li>
            <li class="active">Kids Vechiels</li>
          </ul>
        </div>

        <div class="dropdown2">
          <div class="select">
            <span class="selected">born baby accessories</span>
            <div class="caret"></div>
          </div>
          <ul class="menu">
            <li>baby care under 999</li>
            <li>carry nest & carry crib</li>
            <li>new born suit boys</li>
            <li>new born suit girls</li>
            <li>baby bags</li>
            <li>bath towels</li>
            <li>face towels</li>
            <li>changing sheet</li>
            <li>baby vest & Bibs</li>
            <li>wrapping sheet & swaddle sheet</li>
            <li>mittens & caps</li>
            <li>diapers & panties</li>
            <li>baby socks & booties</li>
            <li>baby care accessories</li>
            <li>toileteries</li>
            <li>gift sets</li>
            <li>feeder cover & powder puff</li>
            <li>milk container</li>
            <li>rattles</li>
            <li>teether & pacifier</li>
            <li>feeding accessories </li>
            <li>blankets</li>
            <li class="active">born baby accessories</li>
          </ul>
        </div>

        <div class="dropdown2">
          <div class="select">
            <span class="selected">baby gear</span>
            <div class="caret"></div>
          </div>
          <ul class="menu">
            <li>electric swing</li>
            <li>stroller</li>
            <li>carry coat & baby carrier</li>
            <li>baby walker & activity walker</li>
            <li>play mats</li>
            <li>baby sofa</li>
            <li>baby coat</li>
            <li>baby accessories box</li>
            <li>bathers & baby toilets seat</li>
            <li>kids drawers</li>
            <li>high chairs & booster seat</li>
            <li class="active">baby gear</li>
          </ul>
        </div>

        <!-- ------------------right sidebar------------------ -->
        <div class="sidebar" id="sidebar">
          <button class="right-close-btn" onclick="closeSidebar()">✕</button>
          <div class="right-sidebar-content">
            <h1>Your Cart</h1>
            <section class="cart">
              <div class="content">
                <h1>Your Cart</h1>
              </div>
              <div id="cart-items"></div>
              <a href="checkout.html" class="checkout-container">
                <div class="cart-container">
                  <div class="left-side">
                    <div class="card">
                      <div class="card-line"></div>
                      <div class="buttons"></div>
                    </div>
                    <div class="post">
                      <div class="post-line"></div>
                      <div class="screen">
                        <div class="dollar">RS</div>
                      </div>
                      <div class="numbers"></div>
                      <div class="numbers-line2"></div>
                    </div>
                  </div>
                  <div class="right-side">
                    <div class="new">Checkout</div>
                  </div>
                </div>
              </a>
            </section>
          </div>
        </div>
      </div>

      <!-- ------------------right sidebar------------------ -->
      <div class="sidebar" id="sidebar">
        <button class="right-close-btn" onclick="closeSidebar()">✕</button>
        <div class="right-sidebar-content">
          <h1>Your Cart</h1>
          <section class="cart">
            <div class="content">
              <h1>Your Cart</h1>
            </div>
            <div id="cart-items"></div>
            <a href="checkout.html" class="checkout-container">
              <div class="container">
                <div class="left-side">
                  <div class="card">
                    <div class="card-line"></div>
                    <div class="buttons"></div>
                  </div>
                  <div class="post">
                    <div class="post-line"></div>
                    <div class="screen">
                      <div class="dollar">RS</div>
                    </div>
                    <div class="numbers"></div>
                    <div class="numbers-line2"></div>
                  </div>
                </div>
                <div class="right-side">
                  <div class="new">Checkout</div>
                </div>
              </div>
            </a>
          </section>
        </div>
      </div>
    </div>

    <!-- ------------------------------------------checkout---------------------------------------- -->

    <section class="checkout-container-wrapper">
      <div class="content">
        <h1>Checkout</h1>
      </div>

      <div class="form-container">
        <form id="checkoutForm">
          <h2>Contact</h2>
          <label for="email">Email</label>
          <input type="email" id="email" name="email" required>

          <label for="subscribe">
              <input type="checkbox" id="subscribe" name="subscribe">
              Email me with news and offers
          </label>

          <h2>Delivery</h2>
          <label for="country">Country/Region</label>
          <select id="country" name="country" required>
              <option value="Pakistan">Pakistan</option>
              <!-- Add more options as needed -->
          </select>
          <label for="firstName">First Name</label>
          <input type="text" id="firstName" name="firstName" required>
      
          <label for="lastName">Last Name</label>
          <input type="text" id="lastName" name="lastName" required>
      
          <label for="address">Address</label>
          <input type="text" id="address" name="address" required>
      
          <label for="city">City</label>
          <input type="text" id="city" name="city" required>
      
          <label for="mobile">Mobile</label>
          <input type="text" id="mobile" name="mobile" required>

          <h2>Shipping Method</h2>
          <label for="shippingMethod">Standard Shipping</label>
          <p>Rs 99.00</p>

          <h2>Payment</h2>

          <label for="cod">
              <input type="radio" id="cod" name="paymentMethod" value="COD" required>
              Cash on Delivery (COD)
          </label>

          <button class="form-button" type="submit">Place Order</button>
      </form>
        </div>

        <div id="cart-items" class="cart-items"></div>

        <div class="bank-details">
          <h2>Easy Paisa account: </h2>
          <p>
            <p class="account-title">
              <strong>Account title</strong> Muhammad Suleman Anis
            </p>
            <div class="iban">
              <strong>Mobile number</strong> 03361861776
              <br />
            </div>
            <br>
            <h2>JazzCash Account: </h2>
            <strong>Account title</strong> Muhammad Suleman Anis
            <br />
            <strong>Mobile number</strong> 03361861776
            <br />
            <br>
            <h2>Bank Al-Habib Limited: </h2>
            <strong>Account title</strong> Rehman Brothers
            <br>
            <strong>Account number</strong> 12300981001285010
            <br>
            <br>
            <strong
              >*Please share the receipt with us via WhatsApp at 0335303639
              once the payment is made* *For overseas customers kindly contact
              us for shipping costs before placing an order* *WhatsApp at
              033639389 for size and color customization*</strong
            >
            <br />
          </p>
        </div>
      </div>
    </section>

    <!-- -------------------------------------------------footer-------------------------------------- -->
     <!-- -----------------------------------------Footer------------------------------------------- -->
     <div class="footer">
      <div class="footer-left">
        <div class="logo">
          <img src="images/logo.jpg" alt="" />
          <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>
          <div class="footer-socials">
            <div class="footer-socials-wrapper">
              <div class="social1">
                <a
                  href=" https://www.facebook.com/profile.php?id=100068177918098
                "
                  ><i class="ri-facebook-fill"></i
                ></a>
              </div>
              <div class="social1">
                <a
                  href=" https://www.instagram.com/gifto_baby_world/
                "
                  ><i class="ri-instagram-fill"></i
                ></a>
              </div>
              <div class="social1">
                <a
                  href=" https://www.tiktok.com/@giftobaby1
                "
                  ><i class="ri-tiktok-fill"></i
                ></a>
              </div>
              <div class="social1">
                <a href=" https://youtube.com/@GiftoBabyworld"
                  ><i class="ri-youtube-fill"></i
                ></a>
              </div>
              <div class="social1">
                <a href="https://maps.app.goo.gl/uZp33UTQxxuiuuCn6"
                  ><i class="ri-map-pin-line"></i
                ></a>
              </div>
              <div class="social1">
                <a href="https://wa.me/+923355558359"
                  ><i class="ri-whatsapp-line"></i
                ></a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="contact-info">
        <div class="contact-heading">
          <h1 class="pink-shade">Contact Info</h1>
        </div>
        <div class="contact-wrapper-container">
          <div class="contact-wrapper">
            <i class="ri-phone-fill"></i>
            <p>03355558359</p>
          </div>
          <div class="contact-wrapper">
            <i class="ri-phone-fill"></i>
            <p>03345373743</p>
          </div>
          <div class="contact-wrapper">
            <i class="ri-mail-star-fill"></i>
            <p>hamzashakeelhaiderdurrani77@gmail.com</p>
          </div>
          <div class="contact-wrapper">
            <i class="ri-time-fill"></i>
            <p>24/7</p>
          </div>
        </div>
      </div>

      <div class="footer-right">
        <div class="newsletter">
          <div class="newsletter-content">
            <h1 class="pink-shade">Newsletter</h1>
            <p>Subscribe For latest updates</p>
            <form action="" id="newsletter">
              <input
                type="email"
                id="email"
                name=""
                placeholder="Drop your email"
                class="newsletter"
              />
              <input type="submit" value="subscribe" class="btn-1" />
            </form>
          </div>
        </div>
      </div>
    </div>

    <hr />
    <div class="copywrite">
      <div class="copywrite-content">
        <p>
          Copyright &copy; since 1985 Gift To Baby World. All Rights Reserved.
        </p>
      </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.6.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.2/firebase-database.js"></script>
    <script src="firebase.js"></script>
    <script>
     document.addEventListener("DOMContentLoaded", function () {
  function displayCart() {
    // Retrieve cart items from localStorage
    var cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];

    // Display cart items on the page
    var cartItemsContainer = document.getElementById("cart-items");
    cartItemsContainer.innerHTML = ""; // Clear existing content

    if (cartItems.length === 0) {
      cartItemsContainer.innerHTML =
        '<p class="empty-msg">Your cart is empty 😞 <a class="empty-shopping" href="index.html">Continue Shopping</a></p>';
    } else {
      var totalAmount = 0;

      cartItems.forEach(function (item) {
        var itemElement = document.createElement("div");
        itemElement.innerHTML = `
                      <div class="cart-container">
                          <div class="cart-container-2">
                              <div class="cart-img">
                                  <img src="${item.image}" alt="${item.name}" style="width: 30rem;">
                              </div>
                              <div class="cart-details">
                                  <p>Name: ${item.name}</p>
                                  <p>Price: Rs ${item.price}</p>
                                  <p>Quantity: ${item.quantity}</p>
                                  <p>Size: ${item.buttonName}</p>
                              </div>
                          </div>
                              <button class="remove-item-button noselect" data-name="${item.name}" data-price="${item.price}"></button>
                              
                      </div>`;
        cartItemsContainer.appendChild(itemElement);

        // Calculate total amount
        totalAmount += parseInt(item.price) * parseInt(item.quantity);
      });

      // Display total amount
      cartItemsContainer.innerHTML += `<h3 class="total-amount">Total: Rs ${totalAmount}</h3>`;

      // Add event listeners to Remove buttons
      var removeButtons = document.querySelectorAll(".remove-item-button");
      removeButtons.forEach(function (button) {
        button.addEventListener("click", function () {
          var itemName = button.getAttribute("data-name");
          var itemPrice = button.getAttribute("data-price");

          // Retrieve cart items from localStorage
          var cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];

          // Find index of item to remove
          var index = cartItems.findIndex(function (item) {
            return item.name === itemName && item.price === itemPrice;
          });

          // Decrease quantity by 1 or remove item if quantity is 1
          if (index !== -1) {
            if (cartItems[index].quantity > 1) {
              cartItems[index].quantity--;
            } else {
              cartItems.splice(index, 1);
            }
            // Update cart items in localStorage
            localStorage.setItem("cartItems", JSON.stringify(cartItems));
            // Trigger live reload
            displayCart();
          }
        });
      });
    }
  }

  // Display cart initially
  displayCart();

  // Listen for changes in localStorage (storage event)
  window.addEventListener("storage", function (e) {
    // Check if the event is related to cartItems
    if (e.key === "cartItems") {
      // Trigger live reload
      displayCart();
    }
  });
});
      // Add event listener to form submission
      document
        .getElementById("checkoutForm")
        .addEventListener("submit", function (event) {
          event.preventDefault(); // Prevent default form submission

          // Retrieve form data
          var formData = new FormData(event.target);
          var formData = new FormData(event.target);
            var formDataObject = {
                firstName: formData.get('firstName'),
                lastName: formData.get('lastName'),
                address: formData.get('address'),
                city: formData.get('city'),
                mobile: formData.get('mobile')
            };


          // Retrieve cart items from localStorage
          var cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];

          // Save form data and cart items to Firebase Realtime Database
          var database = firebase.database();
          var ordersRef = database.ref("orders");
          var newOrderRef = ordersRef.push();
          newOrderRef
            .set({
              name: formDataObject.firstName + ' ' + formDataObject.lastName,
                        contact: formDataObject.mobile,
                        address: formDataObject.address,
                        city: formDataObject.city,
                        cartItems: cartItems,
            })
            .then(function () {
              // Redirect to pay.html
              window.location.href = "thankyou.html";
            })
            .catch(function (error) {
              console.error("Error saving order:", error);
              alert(
                "Error occurred while placing the order. Please try again later."
              );
            });
        });


    </script>
    <script src="script.js"></script>
  </body>
</html>
